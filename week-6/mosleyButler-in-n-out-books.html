<!DOCTYPE html>
<html lang="en">
<head>

    <title>WEB 231 - Enterprise JavaScript I</title>
   <link rel = "stylesheet" type="text/css" href="../global.css">
	<link rel="stylesheet" type="text/css" href="mosleyButler-in-n-out-books.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet">

</head>
<body>

	<!--
      Title: In-N-Out-Books
      Author: Professor Krasso
      Date: 02/07/2023
      Modified By: TiaNiecia Mosley Butler
      Description: A program that allows users to select list of favorite books or authors from a cascading dropdown list.
	               They are given three options : select, Favorite Books , or Favorite Authors. After they choose, 
				   they click the display listing button that shows a table with information about book or author and genre.
				   section.
     -->

	 <!-- 
      Title: How To- toggle hide and Show
      Author: w3Schools
      Date: 02/07/2023
      Modified By: TiaNiecia Mosley Butler
      Description: Shows how to toggle between hiding and showing elements 
     -->

	 <!-- 
      Title: JavaScript Objects
      Author: w3Schools
      Date: 02/09/2023
      Modified By: TiaNiecia Mosley Butler
      Description: writing  name:value pairs
     -->

	 <!-- 
      Title: JavaScript For In (For In Over Arrays)
      Author: w3Schools
      Date: 02/09/2023
      Modified By: TiaNiecia Mosley Butler
      Description: loops through the properties of a object
     -->

	 <div id="container">
		<h1 id="app-header">Welcome to In-N-Out-Books</h1>

		<div id="card-example">
			<div class="card">
				<div class="card-title">My Favorites</div>
				<div class="card-content">

					<div class="form-field" >
						<label for="number">Choose a listing</label>

						<!-- Id place on drop down that will bind with JavaScript to collect information of the input -->
						<select name="favoriteList" id="favoriteList" class="drop-down-menu">

							<!--User input choices with displayed values  -->
							<option value="select">Select</option>
							<option value="books">Top Favorite Books</option>
							<option value="authors">Top 3 Favorite Authors</option>
						</select>

						
					</div>

					<div>
						<!-- Button with onclick that when clicked will run the dropDownSequence function and display the string results  -->
						<button id = "btnDisplayListing" class="btn btn-primary full-width" onclick="displayListing()">Display Listing</button>
					</div>

				</div>

			</div>
	
		</div>
		</div>

			

				
	
		<div id="form-Results-Example">
			<div class="card">

				<!-- Code makes a table to input information of favorite booksId to tell JavaScript where to input values for the books.
					 Sytle with a display set to none so that table is not displayed until books has be choose.-->
			
				<div class="card-contents" id="favorite-books" style="display: none;" >
			
			
					<div class="card-title">Top Favorite Books</div>
		
				
						<table  >
							<thead>
								<tr>
									<th>ISBN</th>
									<th>Title</th>
									<th>Pages</th>
								</tr>
							</thead>
							<tbody>
									<tr id="book1">
									<td id="book1_isbn"></td>
									<td id="book1_title"></td>
									<td id="book1_pages"></td>
								</tr>
								<tr id="books">
									<td id="book2_isbn"></td>
									<td id="book2_title"></td>
									<td id="book2_pages"></td>
								</tr>
								<tr id="book3">
									<td id="book3_isbn"></td>
									<td id="book3_title"></td>
									<td id="book3_pages"></td>
								</tr>              
				
							</tbody>
				          
						</table>
			
					</div>

				</div>

			</div>

		</div>

		<div id="form-Results-Example">
			<div class="card">

				<!-- Code makes a table to input information of favorite booksId to tell JavaScript where to input values for the authors.
				 Style with a display set to none so that table is not displayed until authors has be choose.-->
				
				 <div class="card-contents" id="favorite-authors" style="display: none;">
					<div class="card-title">Top Favorite Authors</div>

					

						<table  >
							<thead>
								<tr>
									<th>Author</th>
									<th>Genre</th>
								</tr>
							</thead>
							<tbody>
								<tr id="author1">
									<td id="author1_name"></td>
									<td id="author1_genre"></td>	
								</tr>
								<tr id="author2">
									<td id="author2_name"></td>
									<td id="author2_genre"></td>	
								</tr>
								<tr id="author3">
									<td id="author3_name"></td>
									<td id="author3_genre"></td>	
								</tr>
							</tbody>
					</table>	
					</div>

			</div>

		</div>




		<div>

			<!-- Return link that links back to the landing page -->
        	<a href="../index.html" class="return-home">Return</a>
       </div>


	<script>

		// function that captures users choice and displays a table based off choice of books or authors using a dropdown.


		function displayListing(){


			//Captures the user's input value for select, books, and authors.
			let myChoice = document.getElementById('favoriteList').value;	

			//Assigns a variable to get a place where the information will be inputted.
			let myBooks = document.getElementById("favorite-books");
			let myAuthors = document.getElementById("favorite-authors");


			//If statement that runs code if the user chooses books.

			if(myChoice === "books"){	

			//Unblocks the style placed on display to show the table for books, while blocking authors table from being displayed
				myBooks.style.display = "block";
				myAuthors.style.display ="none";
				
			// Assigning 3 object literals of favorite books to books.
				let books = {

					book1 :{isbn: 10679781587, title: "Memoirs of a Geisha",pages: 434},
					book2 : {isbn: 9781401958237, title: "Limitless", pages: 344},
					book3 : {isbn: 9781401308582,title: "The Five People You Meet in Heaven", pages: 216}
				};

				// Using for in look to loop through the properties and places them in table when it find instance.
				//    Using document.getElementById to show where to go and .textContent to input values. .
				for(let bookId in books){
					let book = books[bookId];
					let bookRow = document.getElementById(bookId);
					document.getElementById(bookId + '_isbn').textContent = book.isbn;
					document.getElementById(bookId + '_title').textContent = book.title;
					document.getElementById(bookId + '_pages').textContent = book.pages;
				}
			}

			//Else if statement that runs code if the user chooses authors.
 			else if (myChoice === "authors"){

				//Unblocks the style placed on display to show the table for authors, while blocking books table from being displayed
	
				myAuthors.style.display = "block";
				myBooks.style.display = "none";
	

			   // Assigning 3 object literals of favorite authors to authors.

				let authors = {
					author1 :{name: "Arthur Golden", genre: "fiction"},
					author2 :{name: "Jim  Kwik", genre: "non-fiction"},
					author3 :{name: "Mitch Alom", genre: "fiction"}

				}


				

				// // Using for in look to loop through the properties and places them in table when it find instance.
				//    Using document.getElementById to show where to go and .textContent to input values. 
				   

				for(let authorId in authors){
					let author = authors[authorId];
					let authorRow = document.getElementById(authorId);
					document.getElementById(authorId + '_name').textContent = author.name;
					document.getElementById(authorId + '_genre').textContent = author.genre;
				};


			}

			//blocks the style placed on display for table for books and authors
			else {
				myAuthors.style.display = "none";
				myBooks.style.display = "none";
			}

		};


	</script>

    
</body>
</html>